# 虚拟滚动测试指南

## 快速测试步骤

### 1. 启动开发服务器
```bash
npm run dev
# 或
pnpm dev
```

### 2. 访问测试页面
打开浏览器访问：`http://localhost:5173/virtual_list`

默认会重定向到虚拟列表示例页面。

### 3. 测试场景

#### 场景 1：基础虚拟列表（修复文本重叠问题）
1. 点击 **"基础虚拟列表"** 标签
2. 观察 1000 条数据是否正常显示
3. **快速滚动**到列表底部和顶部
4. **检查点**：
   - ✅ 文本是否清晰，没有重叠
   - ✅ 快速滚动后列表内容是否正常显示
   - ✅ 不同高度的列表项（每3项有长描述）是否正确对齐
   - ✅ 滚动流畅，无明显卡顿

#### 场景 2：无限加载虚拟列表
1. 点击 **"无限加载列表"** 标签
2. 初始显示 50 条数据
3. 向下滚动到接近底部
4. **检查点**：
   - ✅ 自动显示"加载中..."提示
   - ✅ 约 800ms 后追加 50 条新数据
   - ✅ 数据条数显示正确更新
   - ✅ 继续滚动可以继续加载（最多 500 条）
   - ✅ 到达 500 条后显示"没有更多了"
5. 点击 **"重置"** 按钮
6. **检查点**：
   - ✅ 数据重置为初始 50 条
   - ✅ 滚动位置回到顶部

#### 场景 3：无限加载虚拟表格
1. 点击 **"无限加载表格"** 标签
2. 初始显示 50 行数据，包含列：ID、姓名、邮箱、年龄、地址、操作
3. 向下滚动到接近底部
4. **检查点**：
   - ✅ 自动加载更多数据
   - ✅ 表格行正确对齐
   - ✅ 所有列正常显示
   - ✅ 鼠标悬停行时高亮显示
5. 点击任意行的 **"操作"** 按钮
6. **检查点**：
   - ✅ 弹出 alert 显示正确的用户信息
7. 点击 **"重置"** 按钮

### 4. 压力测试

#### 测试 A：极限数据量
修改 `virtual_list.vue` 中的数据量：
```javascript
// 将 1000 改为 10000
const basicItems = ref(
  Array.from({ length: 10000 }, (_, i) => ({
    // ...
  }))
)
```
**检查点**：
- ✅ 初始渲染速度 < 1 秒
- ✅ 滚动流畅
- ✅ 内存占用合理（使用浏览器开发者工具 Performance 标签查看）

#### 测试 B：动态高度差异大
修改描述生成逻辑，让高度差异更大：
```javascript
description: `This is description for item ${i}. ${
  i % 2 === 0 ? 'This is a much longer description that will take significantly more space. '.repeat(5) : ''
}`,
```
**检查点**：
- ✅ 不同高度的项正确渲染
- ✅ 没有文本重叠
- ✅ 滚动条大小正确反映总内容高度

#### 测试 C：快速切换标签页
1. 快速点击三个标签页切换
2. 在每个标签页快速滚动
**检查点**：
- ✅ 切换流畅
- ✅ 数据正确保持
- ✅ 滚动位置正确

### 5. 浏览器兼容性测试

测试以下浏览器：
- Chrome (最新版)
- Firefox (最新版)
- Safari (最新版)
- Edge (最新版)

## 问题排查

### 问题：页面无法启动
**解决方案：**
```bash
# 安装依赖
npm install
# 或
pnpm install
```

### 问题：路由 404
**检查：**
1. 确认 `src/router/index.ts` 包含 `/virtual_list` 路由
2. 确认 `src/views/virtual_list.vue` 文件存在

### 问题：组件导入错误
**检查：**
1. 确认以下文件存在：
   - `src/components/VirtualTable/VirtualList.vue`
   - `src/components/VirtualTable/VirtualListWithInfinite.vue`
   - `src/components/VirtualTable/VirtualTableWithInfinite.vue`

### 问题：样式显示异常
**检查：**
1. 浏览器开发者工具控制台是否有 CSS 错误
2. 确认 scoped 样式正确加载

## 性能基准

在标准配置下（1000 条数据），预期性能指标：

| 指标 | 目标值 |
|------|--------|
| 初始渲染时间 | < 200ms |
| 滚动帧率 | > 55 FPS |
| 内存占用 | < 50MB |
| 加载更多延迟 | < 1000ms |

使用 Chrome DevTools 的 Performance 标签进行测量。

## 反馈

如果发现任何问题，请记录：
1. 问题描述
2. 复现步骤
3. 浏览器版本
4. 控制台错误信息
5. 截图或视频
